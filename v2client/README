This is a validation client for use with the Yubico validation API version 2. To
pull in the dependency in a maven project do:

 <dependency>
   <groupId>com.yubico</groupId>
   <artifactId>yubico-validation-client2</artifactId>
   <version>2.0RC4</version>
 </dependency>

A very simplified implementation would be:

 // otp is the modhex otp from the yubikey
 // client_id is the clientId from https://upgrade.yubico.com/getapikey/
 boolean validate(String otp, int client_id) {
    YubicoClient client = YubicoClient.getClient(client_id);
    YubicoResponse response = client.verify(otp);
    if(response != null && response.getStatus() == YubicoResponseStatus.OK) {
      return true;
    }
    return false;
 }

After verifying the OTP you should make sure that the publicId part belongs to
the correct user. This can be done by keeping a mapping of username to
public id, for instance as the JAAS module does with it's user map
funcitonality.

For generic login cases the JAAS module can be easier to implement than using
the client API directly.

For more complete descriptions of methods and failure states, please see
the javadoc.
